sp {initialize*propose*add-waypoint
   (state <s> ^name initialize
              ^top-state.waypoints.waypoint <w>
             -^top-state.io.input-link.self.waypoints.waypoint.id <id>)
   (<w> ^id <id> ^x <x> ^y <y>)
-->
   (<s> ^operator <op> + =)
   (<op> ^name add-waypoint
         ^id <id> ^x <x> ^y <y>)
}

sp {initialize*apply*add-waypoint
   (state <s> ^name initialize
              ^operator <op>
              ^top-state.io.output-link <ol>)
   (<op> ^name add-waypoint
         ^id <id> ^x <x> ^y <y>)
-->
   (<ol> ^add-waypoint <aw>)
   (<aw> ^id <id> ^x <x> ^y <y>)
}

