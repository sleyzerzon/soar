sp {clean-house-new*propose*record-avoid
   (state <s> ^name robot
              ^areas.area <area>
              ^avoids.<id> true)
   (<area> ^id <id>
          -^avoid true)
-->
   (<s> ^operator <op> + >)
   (<op> ^name record-avoid
         ^id <id>)
}

sp {clean-house-new*propose*record-avoid*compare
   (state <s> ^name robot
              ^operator <op1> +
              ^operator <op2> +)
   (<op1> ^name record-avoid)
   (<op2> ^name {<> record-avoid <> record-label <> msg})
-->
   (<s> ^operator <op1> > <op2>)
}

sp {clean-house-new*propose*record-avoid*multiple
   (state <s> ^name robot
              ^operator <op1> +
              ^operator {<> <op1> <op2>} +)
   (<op1> ^name record-avoid)
   (<op2> ^name record-avoid)
-->
   (<s> ^operator <op1> = <op2>)
}

sp {apply*record-avoid
   (state <s> ^operator <op>
              ^avoids <avoids>
              ^areas.area <area>)
   (<op> ^name record-avoid
         ^id <id>)
   (<area> ^id <id>)
-->
   (<area> ^avoid true)
   (<avoids> ^<id> true -)
}
