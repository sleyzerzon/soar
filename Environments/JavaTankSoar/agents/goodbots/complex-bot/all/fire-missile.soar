#echo "\nLoading all/fire-missile.soar"

sp {all*elaborate*fire-missile
   (state <s> ^name << chase attack retreat >>
              ^operator <o>
             -^missile-number none
              ^idirection forward)
   (<o> -^name slide-out-of-attack
         ^actions <a>)
   -->
   (<a> ^fire.weapon missile)}

sp {attack*propose*fire-missile*blind
   (state <s> ^name << chase attack wander retreat >>
              ^io.input-link <il>
              ^superstate <ss>)
   (<ss> ^square.<odir>.open *yes* 
         ^direction-map.<dir>.forward <odir>)
   (<il> ^direction <dir>
         ^smell.distance 1
         ^blocked.forward yes
        -^radar.tank
         ^missiles { > 0 <m> })
   -->
   (write (crlf) |Shoot in front at enemy - blocked in open space.|)
   (<s> ^operator <o> + =, >)
   (<o> ^name fire-missile
        ^actions.fire.weapon missile)}
