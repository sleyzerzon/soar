sp {simple-robot*propose*action
   (state <s> ^name simple-robot
              ^io.input-link.ranges.range <r>)
   (<r> ^distance <d>
        ^action <a>)
-->
   (<s> ^operator <op> + =)
   (<op> ^name action
         ^range <r>)
}

sp {compare*actions
   (state <s> ^operator <o1> + <o2> +)
   (<o1> ^range.distance <d1>)
   (<o2> ^range.distance > <d1>)
-->
   (<s> ^operator <o1> > <o2>)
}

sp {apply*action
   (state <s> ^operator <op>
              ^io.output-link <ol>)
   (<op> ^name action
         ^range.action <a>)
   (<a> ^<action> <params>)
   (<params> ^direction <dir>
             ^throttle <thr>)
-->
   (<ol> ^<action> <acopy>)
   (<acopy> ^direction <dir>
            ^throttle <thr>)
}

sp {monitor*action
   (state <s> ^operator.range.action <a>)
   (<a> ^<action> <p>)
   (<p> ^direction <d>
        ^throttle <thr>)
-->
   (write (crlf) <action> | | <d> | at | <thr>)
}
