sp {simple-robot-planner*propose*choose-first-destination
   (state <s> ^superstate nil
              ^name simple-robot
             -^desired
              ^waypoints <ws>)
   (<ws> ^waypoint <w>
         ^at <> <w>)
-->
   (<s> ^operator <op> + =)
   (<op> ^name choose-destination
         ^destination <w>)
}

sp {simple-robot-planner*propose*choose-next-destination
   (state <s> ^superstate nil
              ^name simple-robot
              ^desired <d>
              ^waypoints <ws>)
   (<ws> ^waypoint <w>
         ^at {<d> <> <w>})
-->
   (<s> ^operator <op> + =)
   (<op> ^name choose-destination
         ^destination <w>)
}

sp {apply*choose-destination*first
   (state <s> ^operator <op>
             -^desired)
   (<op> ^name choose-destination
         ^destination <w>)
-->
   (<s> ^desired <w>)
}

sp {apply*choose-destination*next
   (state <s> ^operator <op>
              ^desired <d>)
   (<op> ^name choose-destination
         ^destination <w>)
-->
   (<s> ^desired <d> - <w>)
}

