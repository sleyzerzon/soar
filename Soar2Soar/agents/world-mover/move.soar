sp {world-mover*propose*move
   (state <s> ^name world-mover
              ^io <io>
              ^directions.direction <d>)
   (<io> -^output-link.<cmd>.status
          ^input-link <il>)
   (<il> ^status light)
-->
   (<s> ^operator <op> +)
   (<op> ^name move
         ^direction <d>)
}

sp {world-mover*move
   :template
   (state <s> ^operator <op> +
              ^io.input-link.here <h>)
   (<op> ^name move
         ^direction <d>)
   (<h> ^x <x>
        ^y <y>)
-->
   (<s> ^operator <op> = 0)
}

sp {apply*move
   (state <s> ^operator <op>
              ^io.output-link <ol>)
   (<op> ^name move
         ^direction <d>)
-->
   (<ol> ^move <m>)
   (<m> ^direction <d>)
}



