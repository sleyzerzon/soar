# creating a desired yaw will trigger a rotation if necessary
sp {scout*elaborate*state*desired-yaw
   (state <s> ^name scout
             -^top-state.hiding true
              ^top-state.current-waypoint.yaw <yaw>)
-->
   (<s> ^desired-yaw <yaw>)
}

sp {scout*elaborate*state*desired-yaw*hiding
   (state <s> ^name scout
              ^top-state.hiding true
              ^top-state.current-waypoint <w>)
   (<w> ^hiding <wo>
        ^yaw <yaw>)
-->
   (<s> ^desired-yaw <yaw>)
}