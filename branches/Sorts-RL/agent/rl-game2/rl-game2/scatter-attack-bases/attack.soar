sp {scatter-attack-bases*propose*attack
   (state <s> ^name scatter-attack-bases
              ^memory <m>
              ^my-pid <mpid>
              ^enemy-pid <epid>
              ^can-use <my-tanks>
              ^io.input-link.groups.group <enemy-base>)
   (<my-tanks> ^id <mtid>)
   (<enemy-base> ^owner <epid>
                 ^type |controlCenter|
                 ^id <ebid>)
   (<m> ^distance-measure <dm>)
   (<dm> ^my-tank-id <mtid>
         ^enemy-base-id <ebid>
         ^distance <d>)
  -{(<gs> ^group <closer-target>)
    (<closer-target> ^owner <epid>
                     ^type |controlCenter|
                     ^id <ctid>)
    (<m> ^distance-measure <dm1>)
    (<dm1> ^my-tank-id <mtid>
           ^enemy-base-id <ctid>
           ^distance < <d>)}
-->
   (<s> ^operator <o> + =)
   (<o> ^name attack
        ^my-tanks-id <mtid>
        ^enemy-base-id <ebid>)}

sp {scatter-attack-bases*apply*attack
   (state <s> ^name scatter-attack-bases
              ^memory <m>
              ^io.output-link.sorts <cmd>
              ^operator <o>)
   (<o> ^name attack
        ^my-tanks-id <mtid>
        ^enemy-base-id <ebid>)
-->
   (<cmd> ^attack <a>)
   (<a> ^group0 <mtid>
        ^group1 <ebid>)
   (<m> ^already-commanded <mtid>)}