#IF an epmem query has been created
#THEN propose removing it
#CAVEAT:  This assumes that an io link is always put on the query link
sp {recall-energy-path*propose*remove-epmem-query
   (state <s> ^name recall-energy-path
              ^epmem.query.io)
-->
   (<s> ^operator <op> +)
   (<op> ^name remove-epmem-query)
}

#Don't remove the epmem if I can record a path
sp {recall-energy-path*compare*remove-epmem-query
   (state <s> ^name recall-energy-path
              ^operator <op1> +
                        <op2> +)
   (<op1> ^name record-energy-path)
   (<op2> ^name remove-epmem-query)
-->
   (<s> ^operator <op1> > <op2>)
}


sp {apply*remove-epmem-query
   (state <s> ^operator <op>
              ^epmem.query <query>)
   (<op> ^name remove-epmem-query)
   (<query> ^<attr> <val>)
-->
   (<query> ^<attr> <val> -)
}



