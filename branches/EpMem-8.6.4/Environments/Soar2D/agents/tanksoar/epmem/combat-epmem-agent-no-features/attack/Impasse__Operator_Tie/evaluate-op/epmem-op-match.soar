#########
# These elaborations use the prohibit command 
# to prevent the agent from using an epmem
# that contains an action different than
# the action that is being evaluated


#IF the retrieved memory's action matches
#   the to-be-evaluated operator's action
#THEN elaborate the state to note this
sp {evaluate-op*elaborate*epmem-matches-op*move
   (state <s> ^name evaluate-op
              ^eval-name move
              ^eval-direction <dir>
              ^epmem.retrieved.io.output-link <rol>)
   (<rol> ^move.direction <dir>
         -^fire)
-->
   (<s> ^epmem-op-match true)
}

#Ibid
sp {evaluate-op*elaborate*epmem-matches-op*turn
   (state <s> ^name evaluate-op
              ^eval-name turn
              ^eval-direction <dir>
              ^epmem.retrieved.io.output-link <rol>)
   (<rol> ^rotate.direction <dir>
         -^fire)
-->
   (<s> ^epmem-op-match true)
}

#Ibid
sp {evaluate-op*elaborate*epmem-matches-op*move-and-fire
   (state <s> ^name evaluate-op
              ^eval-name move-and-fire
              ^eval-direction <dir>
              ^epmem.retrieved.io.output-link <rol>)
   (<rol> ^move.direction <dir>
          ^fire.weapon missile)
-->
   (<s> ^epmem-op-match true)
}

#Ibid
sp {evaluate-op*elaborate*epmem-matches-op*turn-and-fire
   (state <s> ^name evaluate-op
              ^eval-name turn-and-fire
              ^eval-direction <dir>
              ^epmem.retrieved.io.output-link <rol>)
   (<rol> ^rotate.direction <dir>
          ^fire.weapon missile)
-->
   (<s> ^epmem-op-match true)
}

#Ibid
sp {evaluate-op*elaborate*epmem-matches-op*fire-missile
   (state <s> ^name evaluate-op
              ^eval-name fire-missile
              ^eval-direction <dir>
              ^epmem.retrieved.io.output-link <rol>)
   (<rol> -^rotate.direction
          -^move.direction
           ^fire.weapon missile)
-->
   (<s> ^epmem-op-match true)
}


