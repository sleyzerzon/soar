#This operator added by :AMN: on 22 Aug 2006
################################
### Propose slide operator if sound is not from front
### Note:  This is to insert some randomness in the
####       agent's behavior.
################################
sp {chase*propose*slide
   (state <s> ^name chase
             -^slide no
              ^sound-direction {<< left right >> <direction>})
   -->
   (<s> ^operator <o> + =)
   (<o> ^name slide
        ^actions.move.direction <direction>)}

#Slide is better 10% of the time
sp {chase*compare*slide
   (state <s> ^name chase
              ^io.input-link.random > 0.9
              ^operator <op1> +
                        <op2> +)
   (<op1> ^name slide)
   (<op2> ^name turn)
-->
   (<s> ^operator <op1> > <op2>)
}

#For some reason this occasionally causes
#state no change errors.  Catch that here
sp {chase*elaborate*fix-state-no-change
   (state <s> ^name slide
              ^superstate <ss>)
   (<ss> ^name chase)
-->
   (<ss> ^slide no)
}


