sp {attack*propose*turn-and-fire
   (state <s> ^name attack
              ^io.input-link.blocked.{ << left right >> <dir> } no)
-->
   (<s> ^operator <o> +)
   (<o> ^name turn-and-fire
        ^actions <a>
        ^direction <dir>)
   (<a> ^rotate.direction <dir>
        ^fire.weapon missile)
}

sp {attack*propose*turn-and-fire*at-adjacent-tank
   (state <s> ^name attack
              ^io.input-link.radar.tank <tank>)
   (<tank> ^distance 0
           ^position { <dir> << left right >> })
-->
   (<s> ^operator <o> +)
   (<o> ^name turn-and-fire
        ^actions <a>
        ^direction <dir>)
   (<a> ^rotate.direction <dir>
        ^fire.weapon missile)
}

