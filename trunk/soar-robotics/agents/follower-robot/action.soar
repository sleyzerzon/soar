sp {simple-robot*propose*action
   (state <s> ^name simple-robot
              ^io.input-link.ranges.range <r>)
   (<r> ^distance <d>
        ^action <a>)
-->
   (<s> ^operator <op> + =)
   (<op> ^name action
         ^range <r>
         ^action <a>)
}

sp {compare*actions
(state <s> ^operator <o1> + <o2> +)
(<o1> ^range.distance <d1>)
(<o2> ^range.distance > <d1>)
-->
(<s> ^operator <o1> > <o2>)
}

sp {apply*action
   (state <s> ^operator <op>
              ^io.output-link <ol>)
   (<op> ^name action
         ^action <a>)
   (<a> ^<action> <params>)
-->
   (<ol> ^<action> <params>)
}

sp {monitor*action
(state <s> ^operator.action <a>)
(<a> ^<action> <p>)
(<p> ^direction <d>
     ^throttle <thr>)
-->
(write (crlf) <action> | | <d> | at | <thr>)
}

sp {monitor*output
(state <s> ^io.output-link <ol>)
(<ol> ^<action> <p>)
(<p> ^direction <d>
     ^throttle <thr>)
-->
(write (crlf) |output: | <action> | | <d> | at | <thr>)
}
