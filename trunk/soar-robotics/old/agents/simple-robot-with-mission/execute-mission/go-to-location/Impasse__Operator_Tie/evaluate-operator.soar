sp {Impasse__Operator_Tie*elaborate*state
   (state <s> ^name selection
              ^superstate.desired <d>
              ^item <i>)
   (<i> ^destination <id>)
   (<d> ^x <xd> ^y <yd>)
   (<id> ^x <xi> ^y <yi>)
-->
   (<i> ^distance (sqrt (+ (*(- <xd> <xi>) (- <xd> <xi>)) (*(- <yd> <yi>) (- <yd> <yi>)) ) ))
}

sp {Impasse__Operator_Tie*compare*evaluate-operator
   (state <s> ^name selection
              ^operator <op1> +
                        <op2> +)
   (<op1> ^name evaluate-operator
          ^superoperator.distance < <d>)
   (<op2> ^name evaluate-operator
          ^superoperator.distance <d>)
-->
   (<s> ^operator <op1> > <op2>)
}
